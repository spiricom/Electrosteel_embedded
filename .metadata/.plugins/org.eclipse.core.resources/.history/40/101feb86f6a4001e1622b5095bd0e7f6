/*
 * synth.c
 *
 *  Created on: Dec 27, 2023
 *      Author: jeffsnyder
 */


#include "main.h"
#include "leaf.h"
#include "codec.h"
#include "i2c.h"
#include "gpio.h"
#include "spi.h"
#include "parameters.h"
#include "audiostream.h"
#include "arm_math.h"
#include "synth.h"


void audioInitSynth()
{
	for (int v = 0; v < NUM_STRINGS_PER_BOARD; v++)
		{

			for(int i = 0; i < NUM_OSC; i++)
			{
				tPBSaw_init(&saw[i][v], &leaf);

				tPBPulse_init(&pulse[i][v], &leaf);

				tCycle_init(&sine[i][v],  &leaf);

				tPBTriangle_init(&tri[i][v],  &leaf);

				tPBSawSquare_init(&sawPaired[i][v], &leaf);

				tPBSineTriangle_init(&sinePaired[i][v],&leaf);

				tExpSmooth_init(&pitchSmoother[i][v], 64.0f, 0.005f, &leaf);

				freqMult[i][v] = 1.0f;
				midiAdd[i][v] = 0.0f;

			}
}

void  audioFreeSynth()
{

}

void audioFrameSynth(uint16_t buffer_offset)
{

}
float audioTickSynth(void)
{

}
